<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    <title>API Docs - ballerina/java.jdbc</title>
    <script src="../html-template-resources/jquery.min.js"></script>
    <link rel="stylesheet" href="../html-template-resources/semantic.min.css">
    <link rel="stylesheet" href="../html-template-resources/styles/css/styles.css">
    <link rel="stylesheet" href="../html-template-resources/styles/css/font.css">
    <script src="../html-template-resources/semantic.min.js"></script>
    <script src="../vs/monaco.js"></script>

    <!-- BIO THEME START -->
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<!-- Optional theme -->
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
<!-- Latest compiled and minified JavaScript -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script type="text/javascript" src="https://ballerina.io/js/ballerina-common.js"></script>
<link rel="stylesheet" href="https://ballerina.io/css/ballerina-io.css">
<link rel="stylesheet" href="https://ballerina.io/css/ballerina-io-docs.css">
<link rel="stylesheet" href="https://ballerina.io/css/ballerina-io-api-new.css">

<style>
    .line-numbers-wrap {
        display: none;
    }
</style>
<!-- BIO THEME END -->

</head>


<body class="cBallerina-io">
    <div class="row cBallerina-io-top-row">
    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"></div>
    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 cTopLineContainer">
        <div class="cTopLine"></div>
    </div>
</div>
<div class="row cBallerina-io-Nav" id="iMainNavigation">
</div>
<div class="clearfix"></div>
    <div class="navi-wrapper">
        <div class="navi-wrapper-content">
            <a href="../index.html">
    <img class="logo" src="../html-template-resources/images/ballerina-logo.png">
</a>
<div class="version">v1.0.0-alpha</div>

            <div class="primary-list module">
    <a href="../java.jdbc/index.html">
        <h3>java.jdbc</h3>
    </a>
    <ul>
        
        <li>
            <a data="records" href="../java.jdbc/index.html#records">Records</a>
        </li>
        
        
            <li>
                <a  data="objects" href="../java.jdbc/index.html#objects">Objects</a>
            </li>
        
        
            <li>
                <a data="clients" href="../java.jdbc/index.html#clients">Clients</a>
            </li>
        
        
        
            <li>
                <a data="functions" href="../java.jdbc/index.html#functions">Functions</a>
            </li>
        
        
            <li>
                <a data="constants" href="../java.jdbc/index.html#constants">Constants</a>
            </li>
        
        
        
            <li>
                <a data="types" href="../java.jdbc/index.html#types">Types</a>
            </li>
        
        
            <li>
                <a data="errors" href="../java.jdbc/index.html#errors">Errors</a>
            </li>
        
    </ul>
    <div class="ui divider"></div>
</div>

            <div class="primary-list module-list">
    <h3>All Modules</h3>
    <ul>
        
        <li>
            <a href="../auth/index.html">auth</a>
        </li>
        
        <li>
            <a href="../bir/index.html">bir</a>
        </li>
        
        <li>
            <a href="../cache/index.html">cache</a>
        </li>
        
        <li>
            <a href="../config/index.html">config</a>
        </li>
        
        <li>
            <a href="../crypto/index.html">crypto</a>
        </li>
        
        <li>
            <a href="../encoding/index.html">encoding</a>
        </li>
        
        <li>
            <a href="../file/index.html">file</a>
        </li>
        
        <li>
            <a href="../filepath/index.html">filepath</a>
        </li>
        
        <li>
            <a href="../grpc/index.html">grpc</a>
        </li>
        
        <li>
            <a href="../http/index.html">http</a>
        </li>
        
        <li>
            <a href="../internal/index.html">internal</a>
        </li>
        
        <li>
            <a href="../io/index.html">io</a>
        </li>
        
        <li>
            <a href="../java/index.html">java</a>
        </li>
        
        <li>
            <a href="../java.jdbc/index.html">java.jdbc</a>
        </li>
        
        <li>
            <a href="../jvm/index.html">jvm</a>
        </li>
        
        <li>
            <a href="../jwt/index.html">jwt</a>
        </li>
        
        <li>
            <a href="../kafka/index.html">kafka</a>
        </li>
        
        <li>
            <a href="../lang.array/index.html">lang.array</a>
        </li>
        
        <li>
            <a href="../lang.decimal/index.html">lang.decimal</a>
        </li>
        
        <li>
            <a href="../lang.error/index.html">lang.error</a>
        </li>
        
        <li>
            <a href="../lang.float/index.html">lang.float</a>
        </li>
        
        <li>
            <a href="../lang.future/index.html">lang.future</a>
        </li>
        
        <li>
            <a href="../lang.int/index.html">lang.int</a>
        </li>
        
        <li>
            <a href="../lang.map/index.html">lang.map</a>
        </li>
        
        <li>
            <a href="../lang.object/index.html">lang.object</a>
        </li>
        
        <li>
            <a href="../lang.stream/index.html">lang.stream</a>
        </li>
        
        <li>
            <a href="../lang.string/index.html">lang.string</a>
        </li>
        
        <li>
            <a href="../lang.table/index.html">lang.table</a>
        </li>
        
        <li>
            <a href="../lang.typedesc/index.html">lang.typedesc</a>
        </li>
        
        <li>
            <a href="../lang.value/index.html">lang.value</a>
        </li>
        
        <li>
            <a href="../lang.xml/index.html">lang.xml</a>
        </li>
        
        <li>
            <a href="../ldap/index.html">ldap</a>
        </li>
        
        <li>
            <a href="../log/index.html">log</a>
        </li>
        
        <li>
            <a href="../math/index.html">math</a>
        </li>
        
        <li>
            <a href="../mime/index.html">mime</a>
        </li>
        
        <li>
            <a href="../nats/index.html">nats</a>
        </li>
        
        <li>
            <a href="../oauth2/index.html">oauth2</a>
        </li>
        
        <li>
            <a href="../observe/index.html">observe</a>
        </li>
        
        <li>
            <a href="../openapi/index.html">openapi</a>
        </li>
        
        <li>
            <a href="../rabbitmq/index.html">rabbitmq</a>
        </li>
        
        <li>
            <a href="../reflect/index.html">reflect</a>
        </li>
        
        <li>
            <a href="../runtime/index.html">runtime</a>
        </li>
        
        <li>
            <a href="../socket/index.html">socket</a>
        </li>
        
        <li>
            <a href="../streams/index.html">streams</a>
        </li>
        
        <li>
            <a href="../system/index.html">system</a>
        </li>
        
        <li>
            <a href="../task/index.html">task</a>
        </li>
        
        <li>
            <a href="../test/index.html">test</a>
        </li>
        
        <li>
            <a href="../time/index.html">time</a>
        </li>
        
        <li>
            <a href="../transactions/index.html">transactions</a>
        </li>
        
        <li>
            <a href="../utils/index.html">utils</a>
        </li>
        
        <li>
            <a href="../websub/index.html">websub</a>
        </li>
        
        <li>
            <a href="../xslt/index.html">xslt</a>
        </li>
        
    </ul>
    <div class="ui divider"></div>
</div>
        </div>
    </div>

    <div class="ui vertical sidebar menu">
        <div class="navi-wrapper-sidebar">
            <div class="navi-wrapper-content">
                <a href="../index.html">
    <img class="logo" src="../html-template-resources/images/ballerina-logo.png">
</a>
<div class="version">v1.0.0-alpha</div>

                
                <div class="primary-list module">
    <a href="../java.jdbc/index.html">
        <h3>java.jdbc</h3>
    </a>
    <ul>
        
        <li>
            <a data="records" href="../java.jdbc/index.html#records">Records</a>
        </li>
        
        
            <li>
                <a  data="objects" href="../java.jdbc/index.html#objects">Objects</a>
            </li>
        
        
            <li>
                <a data="clients" href="../java.jdbc/index.html#clients">Clients</a>
            </li>
        
        
        
            <li>
                <a data="functions" href="../java.jdbc/index.html#functions">Functions</a>
            </li>
        
        
            <li>
                <a data="constants" href="../java.jdbc/index.html#constants">Constants</a>
            </li>
        
        
        
            <li>
                <a data="types" href="../java.jdbc/index.html#types">Types</a>
            </li>
        
        
            <li>
                <a data="errors" href="../java.jdbc/index.html#errors">Errors</a>
            </li>
        
    </ul>
    <div class="ui divider"></div>
</div>

                <div class="primary-list module-list">
    <h3>All Modules</h3>
    <ul>
        
        <li>
            <a href="../auth/index.html">auth</a>
        </li>
        
        <li>
            <a href="../bir/index.html">bir</a>
        </li>
        
        <li>
            <a href="../cache/index.html">cache</a>
        </li>
        
        <li>
            <a href="../config/index.html">config</a>
        </li>
        
        <li>
            <a href="../crypto/index.html">crypto</a>
        </li>
        
        <li>
            <a href="../encoding/index.html">encoding</a>
        </li>
        
        <li>
            <a href="../file/index.html">file</a>
        </li>
        
        <li>
            <a href="../filepath/index.html">filepath</a>
        </li>
        
        <li>
            <a href="../grpc/index.html">grpc</a>
        </li>
        
        <li>
            <a href="../http/index.html">http</a>
        </li>
        
        <li>
            <a href="../internal/index.html">internal</a>
        </li>
        
        <li>
            <a href="../io/index.html">io</a>
        </li>
        
        <li>
            <a href="../java/index.html">java</a>
        </li>
        
        <li>
            <a href="../java.jdbc/index.html">java.jdbc</a>
        </li>
        
        <li>
            <a href="../jvm/index.html">jvm</a>
        </li>
        
        <li>
            <a href="../jwt/index.html">jwt</a>
        </li>
        
        <li>
            <a href="../kafka/index.html">kafka</a>
        </li>
        
        <li>
            <a href="../lang.array/index.html">lang.array</a>
        </li>
        
        <li>
            <a href="../lang.decimal/index.html">lang.decimal</a>
        </li>
        
        <li>
            <a href="../lang.error/index.html">lang.error</a>
        </li>
        
        <li>
            <a href="../lang.float/index.html">lang.float</a>
        </li>
        
        <li>
            <a href="../lang.future/index.html">lang.future</a>
        </li>
        
        <li>
            <a href="../lang.int/index.html">lang.int</a>
        </li>
        
        <li>
            <a href="../lang.map/index.html">lang.map</a>
        </li>
        
        <li>
            <a href="../lang.object/index.html">lang.object</a>
        </li>
        
        <li>
            <a href="../lang.stream/index.html">lang.stream</a>
        </li>
        
        <li>
            <a href="../lang.string/index.html">lang.string</a>
        </li>
        
        <li>
            <a href="../lang.table/index.html">lang.table</a>
        </li>
        
        <li>
            <a href="../lang.typedesc/index.html">lang.typedesc</a>
        </li>
        
        <li>
            <a href="../lang.value/index.html">lang.value</a>
        </li>
        
        <li>
            <a href="../lang.xml/index.html">lang.xml</a>
        </li>
        
        <li>
            <a href="../ldap/index.html">ldap</a>
        </li>
        
        <li>
            <a href="../log/index.html">log</a>
        </li>
        
        <li>
            <a href="../math/index.html">math</a>
        </li>
        
        <li>
            <a href="../mime/index.html">mime</a>
        </li>
        
        <li>
            <a href="../nats/index.html">nats</a>
        </li>
        
        <li>
            <a href="../oauth2/index.html">oauth2</a>
        </li>
        
        <li>
            <a href="../observe/index.html">observe</a>
        </li>
        
        <li>
            <a href="../openapi/index.html">openapi</a>
        </li>
        
        <li>
            <a href="../rabbitmq/index.html">rabbitmq</a>
        </li>
        
        <li>
            <a href="../reflect/index.html">reflect</a>
        </li>
        
        <li>
            <a href="../runtime/index.html">runtime</a>
        </li>
        
        <li>
            <a href="../socket/index.html">socket</a>
        </li>
        
        <li>
            <a href="../streams/index.html">streams</a>
        </li>
        
        <li>
            <a href="../system/index.html">system</a>
        </li>
        
        <li>
            <a href="../task/index.html">task</a>
        </li>
        
        <li>
            <a href="../test/index.html">test</a>
        </li>
        
        <li>
            <a href="../time/index.html">time</a>
        </li>
        
        <li>
            <a href="../transactions/index.html">transactions</a>
        </li>
        
        <li>
            <a href="../utils/index.html">utils</a>
        </li>
        
        <li>
            <a href="../websub/index.html">websub</a>
        </li>
        
        <li>
            <a href="../xslt/index.html">xslt</a>
        </li>
        
    </ul>
    <div class="ui divider"></div>
</div>
            </div>
        </div>
    </div>



    <div class="content-wrapper pusher">
        <div>
    <a class="toc item"> 
        <img src="../html-template-resources/images/menu.svg">
    </a>
</div>
        <div class="main-wrapper module-wrapper">
                <h1>
                    <a class="breadcrumb-home" href="../index.html">
    <img class="breadcrumb-home-icon" src="../html-template-resources/images/home.svg">
</a>
                    Module : <span class="modules">java.jdbc</span></h1>
                    <h2>Module overview</h2>
<p>This module provides the functionality required to access and manipulate data stored in any type of relational database
that is accessible via Java Database Connectivity (JDBC).</p>
<h3>Client</h3>
<p>To access a database, you must first create a <code>Client</code> object. A sample for creating a JDBC client can be found below.</p>
<h3>Connection pool handling</h3>
<p>There are 3 possible scenarios for connection pool handling.</p>
<ol>
<li>
<p>Global, shareable default connection pool<br />
If you do not provide the <code>poolOptions</code> field, a globally shareable pool will be created for your database unless
a connection pool matching with the properties you provided already exists.</p>
<pre><code class="language-ballerina">jdbc:Client testDB = new({
    url: &quot;jdbc:mysql://localhost:3306/testdb&quot;,
    username: &quot;root&quot;,
    password: &quot;root&quot;,
    dbOptions: { useSSL: false }
});
</code></pre>
</li>
<li>
<p>Client owned, unsharable connection pool<br />
If you define the <code>poolOptions</code> field inline, an unshareable connection pool will be created.</p>
<pre><code class="language-ballerina">jdbc:Client testDB = new({
    url: &quot;jdbc:mysql://localhost:3306/testdb&quot;,
    username: &quot;root&quot;,
    password: &quot;root&quot;,
    poolOptions: { maximumPoolSize: 5 },
    dbOptions: { useSSL: false }
});
</code></pre>
</li>
<li>
<p>Local shareable connection pool<br />
If you create a record of type <code>jdbc:PoolOptions</code> and reuse that in the configuration of multiple clients, for each
set of clients that connect to the same database instance with the same set of properties, a shared connection pool
will be created.</p>
<pre><code class="language-ballerina">jdbc:Client testDB1;
jdbc:Client testDB2;
jdbc:Client testDB3;

jdbc:PoolOptions poolOptions1 = { maximumPoolSize: 5 };

testDB1 = new({
    url: &quot;jdbc:mysql://localhost:3306/testdb1&quot;,
    username: &quot;root&quot;,
    password: &quot;root&quot;,
    poolOptions: poolOptions1,
    dbOptions: { useSSL: false }
});

testDB2 = new({
    url: &quot;jdbc:mysql://localhost:3306/testdb1&quot;,
    username: &quot;root&quot;,
    password: &quot;root&quot;,
    poolOptions: poolOptions1,
    dbOptions: { useSSL: false }
});

testDB3 = new({
    url: &quot;jdbc:mysql://localhost:3306/testdb2&quot;,
    username: &quot;root&quot;,
    password: &quot;root&quot;,
    poolOptions: poolOptions1,
    dbOptions: { useSSL: false }
});
</code></pre>
</li>
</ol>
<h3>Database operations</h3>
<p>Once the client is created, database operations can be executed through that client. This module provides support for
creating tables and executing stored procedures. It also supports selecting, inserting, deleting, updating, and batch
updating data. Samples for these operations can be found below.</p>
<h2>Samples</h2>
<h3>Creating a client</h3>
<pre><code class="language-ballerina">jdbc:Client testDB = new({
    url: &quot;jdbc:mysql://localhost:3306/testdb&quot;,
    username: &quot;root&quot;,
    password: &quot;root&quot;,
    dbOptions: { useSSL: false }
});
</code></pre>
<p>The full list of client properties can be found listed under the <code>jdbc:PoolOptions</code> type.</p>
<h3>Creating tables</h3>
<p>This sample creates a table with two columns. One column is of type <code>int</code>, and the other is of type <code>varchar</code>.
The CREATE statement is executed via the <code>update</code> remote function of the client.</p>
<pre><code class="language-ballerina">// Create the ‘Students’ table with fields ‘id’, 'name' and ‘age’.
var returned = testDB-&gt;update(&quot;CREATE TABLE student(id INT AUTO_INCREMENT, age INT, 
                               name VARCHAR(255), PRIMARY KEY (id))&quot;);
if (returned is jdbc:UpdateResult) {
    io:println(&quot;Students table create status in DB: &quot; + returned.updatedRowCount);
} else {
    error err = returned;
    io:println(&quot;Students table creation failed: &quot; + &lt;string&gt;err.detail()[&quot;message&quot;]);
}
</code></pre>
<h3>Inserting data</h3>
<p>This sample shows three examples of data insertion by executing an INSERT statement using the <code>update</code> remote function
of the client.</p>
<p>In the first example, query parameter values are passed directly into the query statement of the <code>update</code>  remote function:</p>
<pre><code class="language-ballerina">var returned = testDB-&gt;update(&quot;INSERT INTO student(age, name) values (23, 'john')&quot;);
if (returned is jdbc:UpdateResult) {
    io:println(&quot;Inserted row count to Students table: &quot; + returned.updatedRowCount);
} else {
    error err = returned;
    io:println(&quot;Insert to Students table failed: &quot; + &lt;string&gt;err.detail()[&quot;message&quot;]);
}
</code></pre>
<p>In the second example, the parameter values, which are in local variables, are passed directly as parameters to
the <code>update</code> remote function. This direct parameter passing can be done for any primitive Ballerina type like <code>string</code>,
<code>int</code>, <code>float</code>, or <code>boolean</code>. The sql type of the parameter is derived from the type of the Ballerina variable that
is passed in.</p>
<pre><code class="language-ballerina">string name = &quot;Anne&quot;;
int age = 8;
var returned = testDB-&gt;update(&quot;INSERT INTO student(age, name) values (?, ?)&quot;, age, name);
if (returned is jdbc:UpdateResult) {
    io:println(&quot;Inserted row count to Students table: &quot; + returned.updatedRowCount);
} else {
    error err = returned;
    io:println(&quot;Insert to Students table failed: &quot; + &lt;string&gt;err.detail()[&quot;message&quot;]);
}
</code></pre>
<p>In the third example, parameter values are passed as an <code>jdbc:Parameter</code> to the <code>update</code> remote function. Use
<code>jdbc:Parameter</code> when you need to provide more details such as the exact SQL type of the parameter, or the parameter
direction. The default parameter direction is <code>IN</code>.</p>
<pre><code class="language-ballerina">jdbc:Parameter p1 = { sqlType: jdbc:TYPE_VARCHAR, value: &quot;James&quot; };
jdbc:Parameter p2 = { sqlType: jdbc:TYPE_INTEGER, value: 10 };
var returned = testDB-&gt;update(&quot;INSERT INTO student(age, name) values (?, ?)&quot;, p2, p1);
if (returned is jdbc:UpdateResult) {
    io:println(&quot;Inserted row count to Students table: &quot; + returned.updatedRowCount);
} else {
    error err = returned;
    io:println(&quot;Insert to Students table failed: &quot; + &lt;string&gt;err.detail()[&quot;message&quot;]);
}
</code></pre>
<h3>Inserting data with auto-generated keys</h3>
<p>This example demonstrates inserting data while returning the auto-generated keys. It achieves this by using the
<code>update</code> remote function to execute the INSERT statement.</p>
<pre><code class="language-ballerina">int age = 31;
string name = &quot;Kate&quot;;
var retWithKey = testDB-&gt;update(&quot;INSERT INTO student (age, name) values (?, ?)&quot;, age, name);
if (retWithKey is jdbc:UpdateResult) {
    int count = retWithKey.updatedRowCount;
    int generatedKey = &lt;int&gt;retWithKey.generatedKeys[&quot;GENERATED_KEY&quot;];
    io:println(&quot;Inserted row count: &quot; + count);
    io:println(&quot;Generated key: &quot; + generatedKey);
} else {
    error err = retWithKey;
    io:println(&quot;Insert to table failed: &quot; + &lt;string&gt;err.detail()[&quot;message&quot;]);
}
</code></pre>
<h3>Selecting data</h3>
<p>This example demonstrates selecting data. First, a type is created to represent the returned result set. Next, the
SELECT query is executed via the <code>select</code> remote function of the client by passing that result set type. Once the
query is executed, each data record can be retrieved by looping the result set. The <code>table</code> returned by the select
operation holds a pointer to the actual data in the database and it loads data from the table only when it is accessed.
This table can be iterated only once.</p>
<pre><code class="language-ballerina">// Define a type to represent the results set.
type Student record {
    int id;
    string name;
    int age;
};

// Select the data from the table.
var selectRet = testDB-&gt;select(&quot;SELECT * FROM student&quot;, Student);
if (selectRet is table&lt;Student&gt;) {
    // Iterating returned table.
    foreach var row in selectRet {
        io:println(&quot;Student:&quot; + row.id + &quot;|&quot; + row.name + &quot;|&quot; + row.age);
    }
} else {
    error err = selectRet;
    io:println(&quot;Select data from student table failed: &quot; + &lt;string&gt;err.detail()[&quot;message&quot;]);
}
</code></pre>
<h3>Updating data</h3>
<p>This example demonstrates modifying data by executing an UPDATE statement via the <code>update</code> remote function of
the client.</p>
<pre><code class="language-ballerina">var returned = testDB-&gt;update(&quot;UPDATE student SET name = 'Jones' WHERE age = ?&quot;, 23);
if (returned is jdbc:UpdateResult) {
    io:println(&quot;Updated row count in Students table: &quot; + returned.updatedRowCount);
} else {
    error err = returned;
    io:println(&quot;Insert to Students table failed: &quot; + &lt;string&gt;err.detail()[&quot;message&quot;]);
}
</code></pre>
<h3>Batch updating data</h3>
<p>This example demonstrates how to insert multiple records with a single INSERT statement that is executed via the
<code>batchUpdate</code> remote function of the client. This is done by first creating multiple parameter arrays, each
representing a single record, and then passing those arrays to the <code>batchUpdate</code> operation. Similarly, multiple
UPDATE statements can also be executed via <code>batchUpdate</code>.</p>
<pre><code class="language-ballerina">// Create the first batch of parameters.
jdbc:Parameter para1 = { sqlType: jdbc:TYPE_VARCHAR, value: &quot;Alex&quot; };
jdbc:Parameter para2 = { sqlType: jdbc:TYPE_INTEGER, value: 12 };
jdbc:Parameter[] parameters1 = [para1, para2];

// Create the second batch of parameters.
jdbc:Parameter para3 = { sqlType: jdbc:TYPE_VARCHAR, value: &quot;Peter&quot; };
jdbc:Parameter para4 = { sqlType: jdbc:TYPE_INTEGER, value: 6 };
jdbc:Parameter[] parameters2 = [para3, para4];

// Do the batch update by passing the batches.
jdbc:BatchUpdateResult ret = testDB-&gt;batchUpdate(&quot;INSERT INTO Students(name, age) values (?, ?)&quot;, 
                                                 false, parameters1, parameters2);
error? e = ret.returnedError;
if (e is error) {
    io:println(&quot;Error occurred:&quot; + &lt;string&gt;e.detail()[&quot;message&quot;]);
} else {
    io:println(&quot;Batch item 1 update count: &quot; + ret.updatedRowCount[0]);
    io:println(&quot;Batch item 2 update count: &quot; + ret.updatedRowCount[1]);
}
</code></pre>
<h3>Calling stored procedures</h3>
<p>The following examples demonstrate executing stored procedures via the <code>call</code> remote function of the client.</p>
<p>The first example shows how to create and call a simple stored procedure that inserts data.</p>
<pre><code class="language-ballerina">// Create the stored procedure.
var returned = testDB-&gt;update(&quot;CREATE PROCEDURE INSERTDATA (IN pName VARCHAR(255), IN pAge INT)
                           BEGIN
                              INSERT INTO Students(name, age) values (pName, pAge);
                           END&quot;);
if (returned is jdbc:UpdateResult) {
    io:println(&quot;Stored proc creation status: : &quot; + returned.updatedRowCount);
} else {
    error err = returned;
    io:println(&quot;Stored proc creation failed: &quot; + &lt;string&gt;err.detail()[&quot;message&quot;]);
}

// Call the stored procedure.
var retCall = testDB-&gt;call(&quot;{CALL INSERTDATA(?,?)}&quot;, (), &quot;George&quot;, 15);
if (retCall is ()|table&lt;record {}&gt;[]) {
    io:println(&quot;Call operation successful&quot;);
} else {
    error err = retCall;
    io:println(&quot;Stored procedure call failed: &quot; + &lt;string&gt;err.detail()[&quot;message&quot;]);
}
</code></pre>
<p>This next example shows how to create and call a stored procedure that accepts <code>INOUT</code> and <code>OUT</code> parameters.</p>
<pre><code class="language-ballerina">// Create the stored procedure.
var returned = testDB-&gt;update(&quot;CREATE PROCEDURE GETCOUNT (INOUT pID INT, OUT pCount INT)
                           BEGIN
                                SELECT COUNT(*) INTO pID FROM Students WHERE id = pID;
                                SELECT COUNT(*) INTO pCount FROM Students WHERE id = 2;
                           END&quot;);
if (returned is jdbc:UpdateResult) {
    io:println(&quot;Stored proc creation status: : &quot; + returned.updatedRowCount);
} else {
    error err = returned;
    io:println(&quot;Stored procedure creation failed:  &quot; + &lt;string&gt;err.detail()[&quot;message&quot;]);
}

// Call the stored procedure.
jdbc:Parameter param1 = { sqlType: jdbc:TYPE_INTEGER, value: 3, direction: jdbc:DIRECTION_INOUT };
jdbc:Parameter param2 = { sqlType: jdbc:TYPE_INTEGER, direction: jdbc:DIRECTION_OUT };
var retCall = testDB-&gt;call(&quot;{CALL GETCOUNT(?,?)}&quot;, (), param1, param2);
if (retCall is ()|table&lt;record {}&gt;[]) {
    io:println(&quot;Call operation successful&quot;);
    io:print(&quot;Student count with ID = 3: &quot;);
    io:println(param1.value);
    io:print(&quot;Student count with ID = 2: &quot;);
    io:println(param2.value);
} else {
    error err = retCall;
    io:println(&quot;Stored procedure call failed: &quot; + &lt;string&gt;err.detail()[&quot;message&quot;]);
}
</code></pre>


            

            <section class="method-content" id="records">
                <div class="main-method-title here">
                    <a class="url-link" href="#records">
                        <img class="url-link-img" src="../html-template-resources/images/link.svg">
                    </a>
                <h2> Records </h2>
                </div>
                <table>
                    
                        <tr>
                            <td class="module-title truncate records" id="ApplicationErrorData">
                                <a class="records"
                                   href="records/ApplicationErrorData.html">ApplicationErrorData</a></td>
                            <td class="module-desc">Represents the properties which are related to Non SQL errors
</td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate records" id="BatchUpdateResult">
                                <a class="records"
                                   href="records/BatchUpdateResult.html">BatchUpdateResult</a></td>
                            <td class="module-desc">BatchUpdateResult represents the output of the `batchUpdate` remote function.
</td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate records" id="ClientEndpointConfig">
                                <a class="records"
                                   href="records/ClientEndpointConfig.html">ClientEndpointConfig</a></td>
                            <td class="module-desc">The Client endpoint configuration for SQL databases.
</td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate records" id="DatabaseErrorData">
                                <a class="records"
                                   href="records/DatabaseErrorData.html">DatabaseErrorData</a></td>
                            <td class="module-desc">Represents the properties which are related to SQL database errors
</td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate records" id="Parameter">
                                <a class="records"
                                   href="records/Parameter.html">Parameter</a></td>
                            <td class="module-desc">Parameter represents a parameter for the SQL remote functions when a variable parameter needs to be passed to the remote function.
</td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate records" id="PoolOptions">
                                <a class="records"
                                   href="records/PoolOptions.html">PoolOptions</a></td>
                            <td class="module-desc">Represents the properties which are used to configure DB connection pool.
Default values of the fields can be set through the configuration API.
</td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate records" id="UpdateResult">
                                <a class="records"
                                   href="records/UpdateResult.html">UpdateResult</a></td>
                            <td class="module-desc">UpdateResult represents the output of the `update` remote function.
</td>
                        </tr>
                    
                </table>
            </section>
            

            
            <section class="method-content" id="objects">
                <div class="main-method-title here">
                    <a class="url-link" href="#objects">
                        <img class="url-link-img" src="../html-template-resources/images/link.svg">
                    </a>
                <h2> Objects </h2>
                </div>
                <table>
                    
                        <tr>
                            <td class="module-title truncate objects" id="GlobalPoolConfigContainer">
                                <a class="objects"
                                   href="objects/GlobalPoolConfigContainer.html">
                                    GlobalPoolConfigContainer
                                </a>
                            </td>
                            <td class="module-desc"></td>
                        </tr>
                    
                </table>
             </section>  
            

            
             <section class="method-content" id="clients">
                <div class="main-method-title here">
                    <a class="url-link" href="#clients">
                        <img class="url-link-img" src="../html-template-resources/images/link.svg">
                    </a>
                <h2> Clients </h2>
                </div>
                <table>
                    
                        <tr>
                            <td class="module-title truncate clients" id="Client">
                                <a class="clients"
                                   href="clients/Client.html">Client</a></td>
                            <td class="module-desc"><p>Represents a JDBC client endpoint.</p>
</td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate clients" id="JdbcClient">
                                <a class="clients"
                                   href="clients/JdbcClient.html">JdbcClient</a></td>
                            <td class="module-desc"><p>Represents the base JDBC Client</p>
</td>
                        </tr>
                    
                </table>
             </section>
            

            
           

            
            <section class="method-content" id="functions">
                <div class="main-method-title here">
                    <a class="url-link" href="#functions">
                        <img class="url-link-img" src="../html-template-resources/images/link.svg">
                    </a>
                    <h2> Functions </h2>
                </div>
                <table>
                    
                        <tr>
                            <td class="module-title truncate functions" id="close"><a
                                    class="functions" href="functions.html#close">close</a></td>
                            <td class="module-desc"><p>An internal function used by clients to shutdown the connection pool.</p>
</td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate functions" id="getGlobalPoolConfigContainer"><a
                                    class="functions" href="functions.html#getGlobalPoolConfigContainer">getGlobalPoolConfigContainer</a></td>
                            <td class="module-desc"><p>Retrieves the <code>final</code> <code>GlobalPoolConfigContainer</code> object.</p>
</td>
                        </tr>
                    
                </table>
            </section>
            


            
            <section class="method-content" id="constants">
                <div class="main-method-title here">
                    <a class="url-link" href="#constants">
                        <img class="url-link-img" src="../html-template-resources/images/link.svg">
                    </a>
                <h2> Constants </h2>
                </div>
                <table>
                    
                        <tr>
                            <td class="module-title truncate constant" id="DATABASE_ERROR_REASON"><a
                                    class="constant" href="constants.html#DATABASE_ERROR_REASON">DATABASE_ERROR_REASON</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="APPLICATION_ERROR_REASON"><a
                                    class="constant" href="constants.html#APPLICATION_ERROR_REASON">APPLICATION_ERROR_REASON</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_VARCHAR"><a
                                    class="constant" href="constants.html#TYPE_VARCHAR">TYPE_VARCHAR</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_CHAR"><a
                                    class="constant" href="constants.html#TYPE_CHAR">TYPE_CHAR</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_LONGVARCHAR"><a
                                    class="constant" href="constants.html#TYPE_LONGVARCHAR">TYPE_LONGVARCHAR</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_NCHAR"><a
                                    class="constant" href="constants.html#TYPE_NCHAR">TYPE_NCHAR</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_LONGNVARCHAR"><a
                                    class="constant" href="constants.html#TYPE_LONGNVARCHAR">TYPE_LONGNVARCHAR</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_NVARCHAR"><a
                                    class="constant" href="constants.html#TYPE_NVARCHAR">TYPE_NVARCHAR</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_BIT"><a
                                    class="constant" href="constants.html#TYPE_BIT">TYPE_BIT</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_BOOLEAN"><a
                                    class="constant" href="constants.html#TYPE_BOOLEAN">TYPE_BOOLEAN</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_TINYINT"><a
                                    class="constant" href="constants.html#TYPE_TINYINT">TYPE_TINYINT</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_SMALLINT"><a
                                    class="constant" href="constants.html#TYPE_SMALLINT">TYPE_SMALLINT</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_INTEGER"><a
                                    class="constant" href="constants.html#TYPE_INTEGER">TYPE_INTEGER</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_BIGINT"><a
                                    class="constant" href="constants.html#TYPE_BIGINT">TYPE_BIGINT</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_NUMERIC"><a
                                    class="constant" href="constants.html#TYPE_NUMERIC">TYPE_NUMERIC</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_DECIMAL"><a
                                    class="constant" href="constants.html#TYPE_DECIMAL">TYPE_DECIMAL</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_REAL"><a
                                    class="constant" href="constants.html#TYPE_REAL">TYPE_REAL</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_FLOAT"><a
                                    class="constant" href="constants.html#TYPE_FLOAT">TYPE_FLOAT</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_DOUBLE"><a
                                    class="constant" href="constants.html#TYPE_DOUBLE">TYPE_DOUBLE</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_BINARY"><a
                                    class="constant" href="constants.html#TYPE_BINARY">TYPE_BINARY</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_BLOB"><a
                                    class="constant" href="constants.html#TYPE_BLOB">TYPE_BLOB</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_LONGVARBINARY"><a
                                    class="constant" href="constants.html#TYPE_LONGVARBINARY">TYPE_LONGVARBINARY</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_VARBINARY"><a
                                    class="constant" href="constants.html#TYPE_VARBINARY">TYPE_VARBINARY</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_CLOB"><a
                                    class="constant" href="constants.html#TYPE_CLOB">TYPE_CLOB</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_NCLOB"><a
                                    class="constant" href="constants.html#TYPE_NCLOB">TYPE_NCLOB</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_DATE"><a
                                    class="constant" href="constants.html#TYPE_DATE">TYPE_DATE</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_TIME"><a
                                    class="constant" href="constants.html#TYPE_TIME">TYPE_TIME</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_DATETIME"><a
                                    class="constant" href="constants.html#TYPE_DATETIME">TYPE_DATETIME</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_TIMESTAMP"><a
                                    class="constant" href="constants.html#TYPE_TIMESTAMP">TYPE_TIMESTAMP</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_ARRAY"><a
                                    class="constant" href="constants.html#TYPE_ARRAY">TYPE_ARRAY</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_STRUCT"><a
                                    class="constant" href="constants.html#TYPE_STRUCT">TYPE_STRUCT</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="TYPE_REFCURSOR"><a
                                    class="constant" href="constants.html#TYPE_REFCURSOR">TYPE_REFCURSOR</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="DIRECTION_IN"><a
                                    class="constant" href="constants.html#DIRECTION_IN">DIRECTION_IN</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="DIRECTION_OUT"><a
                                    class="constant" href="constants.html#DIRECTION_OUT">DIRECTION_OUT</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate constant" id="DIRECTION_INOUT"><a
                                    class="constant" href="constants.html#DIRECTION_INOUT">DIRECTION_INOUT</a></td>
                            <td class="module-desc"></td>
                        </tr>
                    
                </table>
            </section>
            


            

            
            <section class="method-content" id="types">
                <div class="main-method-title here">
                    <a class="url-link" href="#types">
                        <img class="url-link-img" src="../html-template-resources/images/link.svg">
                    </a>
                <h2> Types </h2>
                </div>
                <table>
                    
                        <tr>
                            <td class="module-title truncate types" id="Direction">
                                <a class="types" href="types.html#Direction">Direction</a>
                            </td>
                            <td class="module-desc"><p>The direction of the parameter.</p>
<p><code>IN</code> - IN parameters are used to send values to stored procedures
<code>OUT</code> - OUT parameters are used to get values from stored procedures
<code>INOUT</code> - INOUT parameters are used to send values and get values from stored procedures</p>
</td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate types" id="Error">
                                <a class="types" href="types.html#Error">Error</a>
                            </td>
                            <td class="module-desc"><p>Represents a database or application level error returned from JDBC client remote functions.</p>
</td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate types" id="SQLType">
                                <a class="types" href="types.html#SQLType">SQLType</a>
                            </td>
                            <td class="module-desc"><p>The SQL Datatype of the parameter.</p>
<p><code>VARCHAR</code> - Small, variable length character string
<code>CHAR</code> - Small, fixed length character string
<code>LONGVARCHAR</code> - Large, variable length character string
<code>NCHAR</code> - Small, fixed length character string with unicode support
<code>LONGNVARCHAR</code> - Large, variable length character string with unicode support</p>
<p><code>BIT</code> - Single bit value that can be zero or one, or nil
<code>BOOLEAN</code> - Boolean value either True or false
<code>TINYINT</code> - 8-bit integer value which may be unsigned or signed
<code>SMALLINT</code> - 16-bit signed integer value which may be unsigned or signed
<code>INTEGER</code> - 32-bit signed integer value which may be unsigned or signed
<code>BIGINT</code> - 64-bit signed integer value which may be unsigned or signed</p>
<p><code>NUMERIC</code> - Fixed-precision and scaled decimal values
<code>DECIMAL</code> - Fixed-precision and scaled decimal values
<code>REAL</code> - Single precision floating point number
<code>FLOAT</code> - Double precision floating point number
<code>DOUBLE</code> - Double precision floating point number</p>
<p><code>BINARY</code> - Small, fixed-length binary value
<code>BLOB</code> - Binary Large Object
<code>LONGVARBINARY</code> - Large, variable length binary value
<code>VARBINARY</code> - Small, variable length binary value</p>
<p><code>CLOB</code> - Character Large Object.
<code>NCLOB</code> - Character large objects in multibyte national character set</p>
<p><code>DATE</code> - Date consisting of day, month, and year
<code>TIME</code> - Time consisting of hours, minutes, and seconds
<code>DATETIME</code> - Both DATE and TIME with additional a nanosecond field
<code>TIMESTAMP</code> - Both DATE and TIME with additional a nanosecond field</p>
<p><code>ARRAY</code> - Composite data value that consists of zero or more elements of a specified data type
<code>STRUCT</code> - User defined structured type, consists of one or more attributes
<code>REFCURSOR</code> - Cursor value</p>
</td>
                        </tr>
                    
                </table>
            </section>
            

            
             <section class="method-content" id="errors">
                <div class="main-method-title here">
                    <a class="url-link" href="#errors">
                        <img class="url-link-img" src="../html-template-resources/images/link.svg">
                    </a>
                <h2> Errors </h2>
                </div>
                <table>
                    
                        <tr>
                            <td class="module-title truncate errors" id="ApplicationError">
                                <a class="errors" href="errors.html#ApplicationError">ApplicationError</a>
                            </td>
                            <td class="module-desc"><p>Represents the error which is related to Non SQL errors</p>
</td>
                        </tr>
                    
                        <tr>
                            <td class="module-title truncate errors" id="DatabaseError">
                                <a class="errors" href="errors.html#DatabaseError">DatabaseError</a>
                            </td>
                            <td class="module-desc"><p>Represents an error caused by an issue related to database accessibility, erroneous queries, constraint violations,
database resource clean-up and other similar scenarios.</p>
</td>
                        </tr>
                    
                </table>
            </section>
            
        </div>
    </div>

<script>
    window.onload = (event) => {
        ballerinaHighlighter.highlightSnippets();
    };
</script>
</body>

<script>
    $(document)
    .ready(function() {

      // create sidebar and attach to menu open
      $('.ui.sidebar')
        .sidebar('attach events', '.toc.item')
      ;

    })
  ;

let mainNavLinks = document.querySelectorAll(".primary-list.module ul li a");
let mainSections = document.querySelectorAll(".main-wrapper section.method-content");

let lastId;
let cur = [];

let contentWrapper = document.querySelector(".content-wrapper");
contentWrapper.addEventListener("scroll", event => {
  let fromTop = contentWrapper.scrollTop;

  mainNavLinks.forEach(link => {
    let section = document.querySelector("#" + link.attributes.getNamedItem("data").textContent);

    if (
      section.offsetTop <= fromTop &&
      section.offsetTop + section.offsetHeight > fromTop
    ) {
      link.classList.add("current");
    } else {
      link.classList.remove("current");
    }
  });
});

</script>

